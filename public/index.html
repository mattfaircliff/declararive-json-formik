<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Build Formik forms with declarative JSON config files"
    />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Formik with declarative JSON configs</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div>
      <h3>Declarative JSON config Formik example</h3>
      <div id="searchform" class="genericform"></div>
      <p>Above is the website search form. Below is the contact form.</p>
      <p>Both forms are created using the same piece of Javascript code at page load time. The page loads the Javascript which looks for the presence of a JSON snippet on the page source itself. If found, the Javascript parses the JSON and render the declared forms therein. Hope you like!</p>
      <div id="contactform" class="genericform"></div>
    </div>
    <script type="text/javascript">
      window.forms = [
        {
          "name": "contact",
          "title": "Contact Us",
          "selector": "contactform",
          "action": "/ajax/contact",
          "fields": [
            {
              "name": "firstname",
              "label": "First Name",
              "maxlen": 120,
              "required": true
            },
            {
              "name": "surname",
              "label": "Surname",
              "maxlen": 120
            },
            {
              "name": "email",
              "label": "Email",
              "maxlen": 256,
              "validate": "email",
              "required": true
            },
            {
              "name": "type",
              "label": "Enquiry Type",
              "input": "select",
              "options": [
                {
                  "label": "General Enquiry",
                  "value": "general"
                },
                {
                  "label": "Support Request",
                  "value": "support"
                },
                {
                  "label": "Complaint",
                  "value": "complaint"
                }
              ]
            },
            {
              "name": "subscribe",
              "label": "Subscribe to newsletters",
              "input": "checkbox"
            },
            {
              "name": "message",
              "label": "Message",
              "input": "textarea",
              "required": true
            }
          ]
        },
        {
          "name": "website-search",
          "title": "Website Search",
          "selector": "searchform",
          "action": "/ajax/search",
          "submit": "Search",
          "fields": [
            {
              "name": "term",
              "label": "What you looking for",
              "maxlen": 256,
              "validate": "email",
              "required": true,
            },
            {
              "name": "lucky",
              "label": "Feeling lucky",
              "input": "checkbox",
              "value": false
            }
          ]
        } ]
    </script>
  </body>
</html>
